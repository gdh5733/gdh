**1.什么是微服务?**

```
根据业务进行划分开来
比如订单系统 购物车系统  商品系统
这样的划分的好处就是 彼此独立部署。每次更新代码,不会
影响其它的模块代码,测试也较为方便.
```

**2.微服务之间是如何独立通讯的?**

```
两种通讯方式:
1.通过RestTemplate就行服务的调用,底层实际上是http调用
2.通过FeignClient 进行调用 通过微服务的应用名进行调用,实际上是面向接口调用
```

**3.springCloud和Dubbo有那些区别?**

```
都是服务治理的框架
eureka是CP  ZK是AP
```

**4.springBoot和springCloud,请你谈谈对他们的理解**

```
springCloud 是基于springboot基础上构建的
```

**5.什么是服务熔断？ 什么是服务降级?  服务雪崩?**

```
 服务熔断:（使用@hystixCommand 进行服务的熔断,最好使用fallbackfactory）
 
 一般是某个服务故障或者异常引起,
类似现实生活中"保险丝",当某一个异常条件被触发,
直接熔断整个服务,而不是一直等到服务超时。


服务降级: (fallbackfactory)

所谓降级,一般是从整体负荷考虑,就是当某个服务熔断之后,
服务器将不再调用,此时客户端可以自己准备一个本地的fallback
回调,返回一个缺省值.这样做,虽然服务水平下降,但好歹可用,比直接挂掉要强。

             
```

**6.微服务的优点和缺点是什么? 说一下你在项目中遇到的坑**

```

```


**7.你所知道的微服务技术栈有哪些? 请列举一二**

```
1.Ribbon 负载均衡  

2.FeignClient微服务调用  

3.
```


**8.eureka和zookeeper都可以提供服务注册与发现功能,请你说说两个区别?**

```
CAP原则

C (数据一致性)
A (高可用)
P (分区容错机制)

Zookeeper保证CP

当向注册中心查询服务列表时,我们就可以容忍注册中心返回的是
几分钟以前的注册信息,但不能接受服务直接down掉不可用,也就是说,
服务注册功能对于可用性的要求要高于一致性,但是zk会出现这一种
情况,当master节点因为网络故障与其他节点失去联系时,
剩余节点会重新进行leader选举,问题在于选举leader的时间太长,
30~120s,且选举期间整个zk集群都是不可用的,这就导致在选举期
间注册服务瘫痪,在云部署的环境下,因网络问题使得zk集群失去master
节点时较大概率会发生的事,虽然服务能够最终恢复,但是漫长的选举时间导致的注册长期不可用是不能容忍的。

Eureka保证AP

Eureka看明白了这点,因此在设计的时候就有限保证可用性,Eureka各个节点
都是平等的,几个节点挂掉不会影响正常节点的工作,
剩余的节点依然可以提供注册和查询服务。
而Eureka的客户端的向某个Eureka注册或是如果发现连接失败,
则会自动切换至其它节点,只要有一台Eureka还在,就能保证注册服务可用
(保证可用性),只不过查到的信息可能不是最新的(不保证强一致性)。
除此之外,Eureka还有一种自我保护机制,如果在15分钟内超过85%的节点
都没有正常的心跳,那么Eureka就认为客户端与注册中心出现了网络故障,
此时会出现以下几种情况:

1.Eureka不再从注册列表中移除因为长时间没有收到心跳而应该过期的服务
2.Eureka仍然能够接受新服务的注册和查询请求,但是不会同步到其它节点上（即保证当前节点依然可用）
3.当网络稳定时,当前的实例新的注册信息会被同步到其它节点中

```

