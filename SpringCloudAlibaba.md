# Stream

## 官网地址

https://nacos.io/zh-cn/docs/quick-start-spring-boot.html

### 1.什么是SpringCloudStream?

![image-20200317142435867](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317142435867.png)



### 2.SpringCloudStream的作用

![image-20200317141956951](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317141956951.png)



### 3.编码API和常用注解

![image-20200317144151163](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317144151163.png)



### 4.SpringCloudStream标准流程套路

![image-20200317151847844](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317151847844.png)



### 5.yml配置



![image-20200317151200395](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317151200395.png)



### 6.生产者代码

![image-20200317152156137](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317152156137.png)



![image-20200317152238034](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317152238034.png)



### 7.消费者代码



![image-20200317152343891](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317152343891.png)



### 8.分组消费与持久化

#### 1.生产案例

![image-20200317153535856](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317153535856.png)



#### 2.产生的问题

##### 1）有重复消费的问题

![image-20200317153846188](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317153846188.png)

![image-20200317153915945](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317153915945.png)



##### 2）消息持久化问题

使用group及默认持久化



## Sleuth链路

下载spring-cloud-starter-zipkin jar包 并启动

   ![image-20200317161151288](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317161151288.png)





# SpringCloud alibaba

### 1.能干吗?

![image-20200317162851725](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317162851725.png)



### 2.怎么玩?

![image-20200317163131146](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317163131146.png)



### 3.注册中心对比

![image-20200317185458832](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317185458832.png)





![image-20200317185642102](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317185642102.png)



### 4.Config

![image-20200317194127429](C:\Users\Dehan.Gao\AppData\Roaming\Typora\typora-user-images\image-20200317194127429.png)





